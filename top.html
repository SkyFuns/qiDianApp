<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>主页</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.css" rel="stylesheet" />

	</head>
	<body>

	<nav class="mui-bar mui-bar-tab">
		<a class="mui-tab-item mui-active" id ='1'>
	    	<span class="mui-icon mui-icon-home"></span>
	        <span class="mui-tab-label">主页</span>
	    </a>
	    <a class="mui-tab-item" id ='2'>
	    	<span class="mui-icon mui-icon-paperplane"></span>
	        <span class="mui-tab-label">车险报价</span>
	    </a>
	    <a class="mui-tab-item" id ='3'>
	        <span class="mui-icon mui-icon-compose"></span>
	        <span class="mui-tab-label">报价记录</span>
	    </a>
	    <a class="mui-tab-item" id ='4'>
	        <span class="mui-icon mui-icon-paperclip"></span>
	        <span class="mui-tab-label">知识库</span>
	    </a>
	    <a class="mui-tab-item" id ='5'>
	        <span class="mui-icon mui-icon-contact"></span>
	        <span class="mui-tab-label">个人中心</span>
	    </a>
	</nav>

	<script src="js/mui.min.js"></script>
	<script type="text/javascript">
		mui.init({
		subpages:[{
	      	url:'index.html',
	      	styles:{
		        top:'0px',//mui标题栏默认高度为45px；
		        bottom:'0px',//默认为0px，可不定义；
		      }
	    }],
		  pullRefresh : {
		    container:".mui-content",//下拉刷新容器标识，querySelector能定位的css选择器均可，比如：id、.class等
		    down : {
		      height:50,//可选,默认50.触发下拉刷新拖动距离,
		      auto: false,//可选,默认false.首次加载自动下拉刷新一次
		      contentdown : "下拉刷新",//可选，在下拉可刷新状态时，下拉刷新控件上显示的标题内容
		      contentover : "释放立即刷新",//可选，在释放可刷新状态时，下拉刷新控件上显示的标题内容
		      contentrefresh : "正在刷新...",//可选，正在刷新状态时，下拉刷新控件上显示的标题内容
		      callback :downFn //必选，刷新函数，根据具体业务来编写，比如通过ajax从服务器获取新数据；
		    }
		  }
		});

	function downFn(){
		/*AJAX业务逻辑*/
		setTimeout(function () {
          mui('.mui-content').pullRefresh().endPulldownToRefresh(); //关闭顶部下拉
      }, 1500);
	}

	mui(".mui-bar-tab").on('tap','.mui-tab-item',function(){
		var id = this.getAttribute("id");
		//传值给详情页面，通知加载新数据
		if(id == 1)
		{
			var ids = 'index';
			var url = 'index.html';
		}
		else if(id == 2 )
		{
			var ids = 'main';
			var url = 'main.html';
		}
		else if(id == 3 )
		{
			var url = '#';
		}
		else if(id == 4 )
		{
			var url = '#';
		}
		else if(id == 5 )
		{
			var url = '#';
		}
		else if(id == 6 )
		{
			var url = '#';
		}
		  //打开对应的页面

		mui.openWindow({
		    url:url,
		    id:ids,
		    styles:{
		      top:'mui-inner-wrap mui-transitioning',//新页面顶部位置
		      bottom:'mui-off-canvas-backdrop',//新页面底部位置
		      width:'100%',//新页面宽度，默认为100%
		      height:'100%',//新页面高度，默认为100%
		    },
		    extras:{},
		    createNew:false,//是否重复创建同样id的webview，默认为false:不重复创建，直接显示
		    show:{
		      autoShow:true,//页面loaded事件发生后自动显示，默认为true
		      aniShow:'slide-in-right',//页面显示动画，默认为”slide-in-right“；
		      duration:'100'//页面动画持续时间，Android平台默认100毫秒，iOS平台默认200毫秒；
		    },
		    waiting:{
		      autoShow:true,//自动显示等待框，默认为true
		      title:'正在加载...',//等待对话框上显示的提示内容
		      options:{}
		    }
		})
	})


</script>



